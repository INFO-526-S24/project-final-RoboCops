---
title: "RoboCops"
subtitle: "Analysis of Fatal Police Shootings"
author: 
  - name: "RoboCops - Peter, Sachin, Arun,Surajit, Christian, Valerie"
    affiliations:
  - name: "School of Information, University of Arizona"
description: "This project aims to comprehensively analyze fatal police shootings in the United States, delving into the underlying factors and motivations driving these tragic events."
format:
  html:
    code-tools: true
    code-overflow: wrap
    code-line-numbers: true
    embed-resources: true
editor: visual
code-annotations: hover
execute:
  warning: false
---

```{r}
#| label: load-pkgs
#| message: false
#| echo: false
#| output: false
pacman::p_load(kableExtra, 
               plotly)

```

## Introduction

The police shooting data set is sourced from a Kaggle dataset, originally created by Karolina Wullum. The data was originally logged by The Washington Post after the Black Lives Matter movement was born out of the shooting of Michael Brown in 2014. The data set contains information on fatal shootings that occurred from 2015 to 2017 and highlights information on the victims as well as the demographics of the city they were shot in. The goal of this project is to contextualize police shootings to further understand how and why these unfortunate situations occur.

## Why the Police Killings dataset?

Police shootings are a sad reality of policing practices that back decades. While many are justified to protect the lives of innocent civilians, there has been an uptick in recent years of police shooting people whom they perceive to be a threat in the heat of the moment, but are proven innocent after the fact. These shootings can often be hard to analyze because there are many psychological factors that come into play when an officer decides to discharge their weapon, such as their training, the perceived threat, and even an officer's internalized prejudice. Without further information on the psyche of a police officer, the reason why they discharge their weapon cannot be determined. However, their actions and surroundings can be analyzed to provide insight into how and why a shooting occurs.

## Analysis Goals

Our analysis aims to understand the dataset on police killings, extending its scope beyond the original focus tracked by the Washington Post. We plan to include socio-economic factors like housing income, poverty rates, and population demographics. While initially associated with the Black Lives Matter movement, our goal is to explore how socio-economic factors intersect with incidents of police violence.

By incorporating these additional factors, we hope to uncover correlations and patterns that provide insight into the broader societal context surrounding police use of force. Through data visualization and analysis, we aim to contribute to a deeper understanding of these issues and support evidence-based policy-making for promoting equity and justice

## Dataset

### Main Dataset

```{r}
#| label: load-dataset
#| message: false

# Load in the datasets
fatality <- read.csv("data/PoliceKillingsUS.csv", na.strings = "")
median_income <- read.csv("data/MedianHouseholdIncome2015.csv")
poverty_perc <- read.csv("data/PercentagePeopleBelowPovertyLevel.csv")
hs_perc <- read.csv("data/PercentOver25CompletedHighSchool.csv")
race_perc <- read.csv("data/ShareRaceByCity.csv")
state_pop <- read.csv("data/Population_Estimate_data_Statewise_2010-2023.csv")
```

The PoliceKilllingsUS.csv is a dataset sourced from Kaggle using the following link:

<a href=https://www.kaggle.com/datasets/kwullum/fatal-police-shootings-in-the-us/data>Fatal Police Shootings in the US</a>

The .csv contains data between 2015 and 2017 and was compiled by The Washington Post. The dataset is comprised of 14 variables and 2535 shootings. An in depth description of the variables can be seen in the following table:

```{r}
#| label: dataset-table
#| echo: false
#| message: false

# Create columns for data
fatality_var <- colnames(fatality)

fatality_desc <- c("Data ID",
                   "Name of deceased",
                   "Date of shooting",
                   "Means of death",
                   "Weapon/Tool",
                   "Age of deceased",
                   "Gender of deceased",
                   "Race of deceased",
                   "City",
                   "State",
                   "Sign of mental illness during incident",
                   "Deceased's threat level",
                   "Method to evade police",
                   "Reports of police with body camera")

fatality_type <- c("numeric",
                   "character",
                   "date",
                   "categorical",
                   "categorical",
                   "numeric",
                   "logical",
                   "categorical",
                   "categorical",
                   "categorical",
                   "logical",
                   "categorical",
                   "categorical",
                   "logical")

fatality_values <- c("2535 entries",
                     "Names",
                     "dd/mm/yy from 2015-2017",
                     "shot, shot and tasered",
                     "69 categories",
                     "6-91 years old",
                     "F/M",
                     "A, B, H, N, O, W, Unknown",
                     "1417 cities",
                     "State 2 letter abbreviations and DC",
                     "True/False",
                     "attack, other, undetermined",
                     "Car, Foot, Not fleeing, Other",
                     "True/False")

# Bind the vectors into a dataframe
fatality_table <- as.data.frame(cbind(fatality_var,
                                      fatality_desc,
                                      fatality_type,
                                     fatality_values))
colnames(fatality_table) <- c("Variable", "Description", "Data Type", "Values")
row.names(fatality_table) <- seq(1:14)

# Generate a nice table with kable
my_table <- kable(fatality_table, "html") %>%
  kable_styling(full_width = FALSE)

# Display the table
my_table

```

#### Data Cleaning/Wrangling

According to another Kaggle repository on the same topic and sourcing the same resources (<a href=https://www.kaggle.com/datasets/mrmorj/data-police-shootings>https://www.kaggle.com/datasets/mrmorj/data-police-shootings</a>), race codes unknown values as "". To avoid confusion, the values are recoded as Unknown using the `mutate` function.

Additionally, a secondary dataframe was generated by grouping the dataset by `city` and `race` and acquiring the counts. This will allow us multiple avenues of analyses such as ascertaining whether or not the proportions of shootings by race in each city differs from the proportions of race in the cities in our census datasets.

### City Census Datasets

In addition to the dataset containing the fatal police shooting, there are four additional 2015 census datasets each containing over 29000 observations:

-   MedianHouseholdIncome2015.csv

-   PercentagePeopleBelowPovertyLevel.csv

-   PercentOver25CompletedHighSchool.csv

-   ShareRaceByCity.csv

```{r}
#| label: census-table
#| echo: false
#| message: false

# Create columns for data
census_data <- c("PercentOver25CompletedHighSchool.csv",
                 "MedianHouseholdIncome2015.csv",
                 "PercentagePeopleBelowPovertyLevel.csv",
                 "ShareRaceByCity.csv")

census_desc <- c("Contains the percentage of individuals 25 years and older that are highschool graduates for cities",
                 "Contains the median income for cities",
                 "Contains the percentage of the population below poverty for cities",
                 "Contains the demographics for cities")

census_n <- c(nrow(hs_perc),
              nrow(median_income),
              nrow(poverty_perc),
              nrow(race_perc))

# Bind the vectors into a dataframe
census_table <- as.data.frame(cbind(census_data, census_desc, census_n))
colnames(census_table) <- c("Data", "Description", "Number of Cities")
row.names(census_table) <- seq(1:4)

# Generate a nice table with kable
my_table <- kable(census_table, "html") %>%
  kable_styling(full_width = FALSE)

# Display the table
my_table

```

Each census dataset contains two common columns: `Geographic.Area` and `City`. The values for `City` is name of the city and a classifier (ie Alexander City city).

In addition to these two columns, each dataset contains information regarding the city's demographic information: percent of highschool graduates, median income, poverty rate, and proportion of races (white, black, native american, asian, hispanic). Each of these values are numeric.

#### Data Cleaning/Wrangling

For ease of analysis, the four census datasets are concatenated together by city into one merged dataset.

Additionally, the `City` value is edited to remove the classifier from each label so that the city value between the main dataset and the census datasets will be equivalent. Doing so will ease analysis.

### State Census Data

In addition to city level census data, a statewise census dataset was collected. Population_Estimate_data_Statewise_2010-2023.csv contains population estimates from 2010-2023 for all fifty states, the District of Colombia, and Puerto Rico.

## Questions

The two questions you want to answer.

1.  How do socioeconomic factors such as median income, poverty rates, and educational relate with incidents of police use of force across different geographic areas?

2.  To what extent do racial demographics, including the proportions of White, Black, Hispanic, Asian, and Native American residents, correlate with incidents of police use of force within communities?

## Analysis plan

## **Question 1**

1.  How do socioeconomic factors such as median income, poverty rates, and educational relate with incidents of police use of force across different geographic areas?:

    ### Approach

    In this part of our analysis, we aim to investigate whether police use of force is influenced by fundamental societal inequalities. This investigation is divided into two parts. Firstly, we will explore the relationship between the severity of police use of force and the level of poverty in communities. To do this, we will utilize the `PercentagePeopleBelowPovertyLevel.csv` dataset, which provides insights into poverty rates across different areas. Secondly, we will examine any potential correlation between socio-economic status, particularly income & educational levels, and incidents of police killings. This approach will offer valuable insights into the broader relationship between socio-economic factors and police use of force.

    ### Visualizations

    #### Plot 1

    To visually represent our findings, we propose using bar plots or column plots. These plots will display the distribution of threat levels perceived by police officers, categorized by poverty rate brackets or educational attainment levels. Annotations will be included where applicable to provide additional context and highlight significant observations.

    #### Plot 2

    For the second plot, we will employ regression analysis and half-eye plots for regressed variables. This approach will allow us to visualize the relationship between income levels and incidents of police killings more comprehensively. Additionally, we will create a bar plot comparing incidents of police killings across different income and poverty brackets. This comparative analysis will provide a clearer understanding of any potential correlations between socio-economic factors and police use of force.

    #### Interpretation of Plots

    Overall, these visualizations will help us gain insights into the complex interplay between socio-economic factors and incidents of police use of force. By exploring these relationships, we aim to contribute to a deeper understanding of the underlying societal dynamics driving police interactions and identify potential avenues for addressing systemic inequalities.

    ### Data sets and Variables to be used 

    #### **Supplementary Datasets**

    **PercentPeopleBelowPovertyLevel.csv:** The median income for cities .

    **PercentOver25CompletedHighSchool.csv:** The percentage of individuals 25 years and older that are highschool graduates for cities

    **ShareRaceByCity:** Contains the demographics for cities

    #### **Primary Dataset (Fatal Police Shooting):**

    **Used Variables:**

    **manner_of_death:** Manner of death. of victims (shot or tasered)

    **threat_level:** The level of threat the victim posed (Attack, Other, Undetermined)

    ### Variables to be created 

    Yet to be determined

## Question 2

1.  To what extent do racial demographics, including the proportions of White, Black, Hispanic, Asian, and Native American residents, correlate with incidents of police use of force within communities?

    ### Approach

    For this segment of our analysis, we aim to investigate whether police have a higher propensity to use force against specific racial groups. This investigation is divided into two parts to comprehensively understand the dynamics at play. Firstly, we will examine the severity of police actions relative to population changes over time. This analysis will be overlaid with racial population composition to discern any patterns or disparities. In the second part, we will explore whether the use of specific instruments by police varies across racial groups and age demographics. In the absence of specific data, we will prorate the racial population distribution even for incidents of police killings to facilitate comprehension.

    ### Visualizations

    #### Plot 1

    To visually represent our findings, we propose using leaflet or ggmap plots alongside column plots. These plots will introduce a new variable, "Shooting Intensity," calculated as the ratio of Police Shootings to Population over time. Further, we will zoom into select major states, incorporating racial distribution as an additional factor.

    #### Plot 2

    For the second plot, we will utilize heatmaps and stacked bar plots to illustrate the impact of specific instruments concerning Shooting Intensity across racial groups and age distributions. This approach will provide a comprehensive visualization of the relationship between racial and age demographics in police killings.

    #### Interpretation of Plots 

    Overall, these visualizations will provide valuable insights into whether police use of force is driven by deliberate choices or influenced by inherent biases or chance factors related to crime.

    ### Datasets and Variables to be used 

    #### **Supplementary Datasets:**

    **ShareRaceByCity:** Contains the demographics for cities

    #### **Primary Dataset ( Fatal Police Shootings):**

    **Variables to be used:**

    **race:** The race of the victim of the police shooting

    **manner_of_death:** The manner in which victims lost their lives (shot, tasered, etc)

    **city:** The city or community where the shooting occured.

    ### Variables to be created 

    Yet to be determined

## Timeline

```{r}
#| label: timeline-table
#| echo: false
#| message: false

# Create vectors to represent the tasks
tasks <- c("Proposal-For Peer Review",
           "Peer Review",
           "Proposal-Updated",
           "Proposal-Final")

# Create vector to represent status
status <- c("",
            "",
            "",
            "")

# Create vector to represent ownership
member <- c("All",
            "All",
            "All",
            "All")

# Create vector to represent the deadline
due <- c("April 1",
         "April 1",
         "April 8",
         "April 15")

# Create vector to represent priority
priority <- c("High",
              "High",
              "Medium",
              "Low")

# Create vector to represent description
description <- c("Write proposal for peer review",
                 "Write up peer reviews for other groups",
                 "Update proposal using peer feedback",
                 "Update proposal using instructor feedback")

# Bind the columns
table_2 <- as.table(cbind(tasks, status, member, due, priority, description))
colnames(table_2) <- c("Task Name", "Status", "Assignee",
                       "Due", "Priority", "Summary")
row.names(table_2) <- seq(1:nrow(table_2))

# Generate a nice table with kable
timeline_table <- kable(table_2, "html") %>%
  kable_styling(full_width = FALSE)

# Display the table
timeline_table
```
